<odoo>

<record id="view_stock_analysis_tree" model="ir.ui.view">
    <field name="name">stock.analysis.view.tree</field>
    <field name="model">stock.analysis.view</field>
    <field name="arch" type="xml">

        <list>
            <field name="car_id"/>
<!--            <field name="product_id"/>-->
            <field name="product_id" domain="[('categ_id.name', '=', 'Non Inventory')]"/>

            <field name="vendor_id"/>
            <field name="uom_id"/>
            <field name="part_location"/>
            <field name="available_qty"/>
            <field name="epr_id" widget="many2one"/>
        </list>
    </field>
</record>


    <record id="view_stock_analysis_search" model="ir.ui.view">
        <field name="name">stock.analysis.view.search</field>
        <field name="model">stock.analysis.view</field>
        <field name="arch" type="xml">
            <search>
                <field name="car_id"/>

                <filter name="filter_car"
                        string="Group by Car"
                        domain="[]"
                        context="{'group_by':'car_id'}"/>
            </search>
        </field>
    </record>

    <record id="action_stock_analysis_view" model="ir.actions.act_window">
    <field name="name">Stock Analysis View</field>
    <field name="res_model">stock.analysis.view</field>
    <field name="view_mode">list</field>
    <field name="context">{'group_by':'car_id'}</field>
</record>

    <menuitem id="stock.menu_stock_analysis_view" name="Stock Analysis View" parent="stock.menu_stock_analysis_root"  action="action_stock_analysis_view" sequence="5"/>

</odoo>